"use strict";(self.webpackChunknetwork_investigator=self.webpackChunknetwork_investigator||[]).push([[173],{913:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var l=o(848),r=o(363),s=o(628);const a=({calls:e,onCallClick:t,selectedCallId:o})=>{const a=e=>{switch(e.toUpperCase()){case"GET":return"#61dafb";case"POST":return"#4caf50";case"PUT":return"#ff9800";case"DELETE":return"#f44336";default:return"#9e9e9e"}},n=e=>{const t=(0,r.detectUUIDs)(e);if(0===t.length)return(0,l.jsx)("span",{children:e});let o=0;const s=[];return t.forEach((t,a)=>{t.position>o&&s.push((0,l.jsx)("span",{children:e.substring(o,t.position)},`text-${a}`)),s.push((0,l.jsx)("span",{className:"uuid-highlight",onClick:e=>{e.stopPropagation(),(0,r.copyUUIDToClipboard)(t.uuid)},title:"Click to copy UUID",children:t.uuid},`uuid-${a}`)),o=t.position+t.uuid.length}),o<e.length&&s.push((0,l.jsx)("span",{children:e.substring(o)},"text-end")),(0,l.jsx)(l.Fragment,{children:s})};return(0,l.jsx)("div",{className:"network-call-list",children:0===e.length?(0,l.jsxs)("div",{className:"no-calls",children:[(0,l.jsx)("p",{children:"No network calls captured yet."}),(0,l.jsx)("p",{children:"Open DevTools and navigate to see network activity."})]}):e.map(e=>{return(0,l.jsxs)("div",{className:"network-call-item "+(o===e.id?"selected":""),onClick:()=>t?.(e),children:[(0,l.jsxs)("div",{className:"call-header",children:[(0,l.jsxs)("div",{className:"call-info-left",children:[(0,l.jsx)("span",{className:"method-badge",style:{backgroundColor:a(e.method)},children:e.method}),(0,l.jsx)("span",{className:"status-badge",style:{backgroundColor:(c=e.status,c>=200&&c<300?"#4caf50":c>=300&&c<400?"#ff9800":c>=400?"#f44336":"#9e9e9e")},children:e.status}),(0,l.jsx)("span",{className:"duration",children:(i=e.duration,`${Math.round(i).toLocaleString()}ms`)}),(0,l.jsx)("span",{className:"timestamp",children:(r=e.timestamp,new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}))})]}),(0,l.jsx)("button",{className:"copy-curl-btn",onClick:t=>{t.stopPropagation(),((e,t)=>{s.v.log("[NetworkCallList] copyAsCurl called with:",e),s.v.log("[NetworkCallList] Button element:",t);try{let o=`curl -X ${e.method||"GET"} "${e.url||""}"`;s.v.log("[NetworkCallList] Initial cURL:",o);const l=e.requestHeaders||{};if(s.v.log("[NetworkCallList] Headers data:",l),s.v.log("[NetworkCallList] Headers type:",typeof l),s.v.log("[NetworkCallList] Is headers array?",Array.isArray(l)),Array.isArray(l)?(s.v.log("[NetworkCallList] Processing headers as array"),l.forEach((e,t)=>{s.v.log(`[NetworkCallList] Header ${t}:`,e);const l=e.name||e.key,r=e.value;l&&r&&(o+=` -H "${l}: ${r}"`,s.v.log(`[NetworkCallList] Added header: ${l}: ${r}`))})):"object"==typeof l&&null!==l&&(s.v.log("[NetworkCallList] Processing headers as object"),Object.entries(l).forEach(([e,t])=>{if(s.v.log("[NetworkCallList] Header entry:",e,t),e&&t){const l="object"==typeof t&&null!==t?t.value||t.name||JSON.stringify(t):String(t);o+=` -H "${e}: ${l}"`,s.v.log(`[NetworkCallList] Added header: ${e}: ${l}`)}})),e.requestBody&&["POST","PUT","PATCH"].includes(e.method||"")){s.v.log("[NetworkCallList] Adding request body:",e.requestBody);const t=e.requestBody.replace(/'/g,"'\"'\"'");o+=` -d '${t}'`}s.v.log("[NetworkCallList] Final cURL command:",o);let r=!1;const a=document.createElement("textarea");a.value=o,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",a.style.opacity="0",document.body.appendChild(a),a.focus(),a.select();try{r=document.execCommand("copy"),s.v.log("[NetworkCallList] cURL copied using execCommand")}catch(e){s.v.log("[NetworkCallList] execCommand failed:",e)}document.body.removeChild(a),r||(s.v.log("[NetworkCallList] execCommand failed, showing cURL in alert"),alert(`Copy this cURL command:\n\n${o}`),r=!0);const n=t.textContent;s.v.log("[NetworkCallList] Original button text:",n),t.textContent="Copied!",t.style.background="#4caf50",t.style.borderColor="#4caf50",t.style.color="white",s.v.log("[NetworkCallList] Button feedback applied"),setTimeout(()=>{t.textContent=n,t.style.background="white",t.style.borderColor="#ddd",t.style.color="#333",s.v.log("[NetworkCallList] Button reset to original state")},2e3)}catch(e){s.v.error("[NetworkCallList] Error in copyAsCurl:",e);const o=t.textContent;t.textContent="Error!",t.style.background="#f44336",t.style.borderColor="#f44336",t.style.color="white",s.v.log("[NetworkCallList] Error feedback applied"),setTimeout(()=>{t.textContent=o,t.style.background="white",t.style.borderColor="#ddd",t.style.color="#333",s.v.log("[NetworkCallList] Button reset after error")},2e3)}})(e,t.currentTarget)},title:"Copy as cURL",style:{padding:"4px 8px",border:"1px solid #ddd",borderRadius:"3px",background:"white",color:"#333",cursor:"pointer",fontSize:"10px",fontWeight:"500",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.borderColor="#bbb"},onMouseLeave:e=>{e.currentTarget.style.background="white",e.currentTarget.style.borderColor="#ddd"},children:"Copy cURL"})]}),(0,l.jsx)("div",{className:"call-url",children:n(e.url)})]},e.id);var r,i,c})})}}}]);